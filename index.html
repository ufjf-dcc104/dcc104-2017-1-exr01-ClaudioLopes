<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jogo Html</title>
    <script src="Sprite.js" charset = "utf-8"></script>
  </head>
  <body>
    <canvas></canvas>
    <script>
        var eCanvas = document.getElementsByTagName("canvas")[0];
        var ctx = eCanvas.getContext("2d");
        var fps = 120;
        var atual = new Date();
        var anterior = new Date();
        var dt = 1/fps;
        var actor = new Sprite();
        var objetivo = new Sprite();

        eCanvas.width = 1000;
        eCanvas.height = 500;

        desenha();
        function desenha(){
          requestAnimationFrame(desenha);
          atual = new Date();
          dt = (atual - anterior)/1000;
          ctx.clearRect(0,0,eCanvas.width, eCanvas.height);
          ctx.strokeRect(0,0,eCanvas.width, eCanvas.height);

          ctx.fillText("x:" +actor.x + " y:" + actor.y, 10,10);

          objetivo.x = 700;
          objetivo.y = 300;
          objetivo.width = 30;
          objetivo.height = 30;
          objetivo.desenhar(ctx);

          actor.desenhar(ctx);
          actor.mover(dt);
          anterior = atual;

          if(actor.win(objetivo)){
            objetivo.color = "red";
            actor.x = 700;
            acotr.y = 300;
          }
        };



        addEventListener("keydown", function(e){
          switch (e.keyCode) {
            case 37:
                actor.ax = -60;
              break;
            case 38:
                actor.ay = -60;
              break;
            case 39:
                actor.ax = 60;
              break;
              case 40:
                  actor.ay = 60;
                break;
            default:
          }
        });

        addEventListener("keyup", function(e){
          switch (e.keyCode) {
            case 37:
              actor.ax = 0;
              break;
            case 37:
              actor.ay = 0;
              break;
            case 37:
              actor.ax = 0;
              break;
            case 37:
              actor.ay = 0;
              break;
            default:

          }
        })
    </script>
  </body>
</html>
